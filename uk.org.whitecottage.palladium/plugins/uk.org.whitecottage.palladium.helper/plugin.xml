<?xml version="1.0" encoding="UTF-8"?>
<plugin>

   <extension
         id="uk.org.whitecottage.palladium.helper.fragment"
         point="org.eclipse.e4.workbench.model">
      <fragment
            uri="fragment.e4xmi"
            apply="always">
      </fragment>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.gmf.runtime.diagram.ui.DiagramEditorContextMenu?after=filtersMenu">
         <menu
               label="&amp;Cardinality">
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editcardinality"
                  label="Swap"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Association">
                     </adapt>
                     <and>
                        <not>
                           <adapt
                                 type="org.eclipse.uml2.uml.AssociationClass">
                           </adapt>
                        </not>
                     </and>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.cardinality"
                     value="SWAP">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editcardinality"
                  label="1 to 0..*"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Association">
                     </adapt>
                     <and>
                        <not>
                           <adapt
                                 type="org.eclipse.uml2.uml.AssociationClass">
                           </adapt>
                        </not>
                     </and>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.cardinality"
                     value="ONE_TO_MANY">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editcardinality"
                  label="0..1 to 0..*"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Association">
                     </adapt>
                     <and>
                        <not>
                           <adapt
                                 type="org.eclipse.uml2.uml.AssociationClass">
                           </adapt>
                        </not>
                     </and>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.cardinality"
                     value="OPTIONAL_ONE_TO_MANY">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editcardinality"
                  label="1 to 1..*"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Association">
                     </adapt>
                     <and>
                        <not>
                           <adapt
                                 type="org.eclipse.uml2.uml.AssociationClass">
                           </adapt>
                        </not>
                     </and>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.cardinality"
                     value="ONE_TO_MANY_MANDATORY">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editcardinality"
                  label="0..1 to 1..*"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Association">
                     </adapt>
                     <and>
                        <not>
                           <adapt
                                 type="org.eclipse.uml2.uml.AssociationClass">
                           </adapt>
                        </not>
                     </and>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.cardinality"
                     value="OPTIONAL_ONE_TO_MANY_MANDATORY">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editcardinality"
                  label="* to *"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Association">
                     </adapt>
                     <and>
                        <not>
                           <adapt
                                 type="org.eclipse.uml2.uml.AssociationClass">
                           </adapt>
                        </not>
                     </and>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.cardinality"
                     value="MANY_TO_MANY">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editcardinality"
                  label="1..* to *"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Association">
                     </adapt>
                     <and>
                        <not>
                           <adapt
                                 type="org.eclipse.uml2.uml.AssociationClass">
                           </adapt>
                        </not>
                     </and>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.cardinality"
                     value="MANDATORY_MANY_TO_MANY">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editcardinality"
                  label="1..* to 1..*"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Association">
                     </adapt>
                     <and>
                        <not>
                           <adapt
                                 type="org.eclipse.uml2.uml.AssociationClass">
                           </adapt>
                        </not>
                     </and>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.cardinality"
                     value="MANDATORY_MANY_TO_MANY_MANDATORY">
               </parameter>
            </command>
         </menu>
         <menu
               label="&amp;Multiplicity">
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editpropertycardinality"
                  label="Mandatory"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Property">
                     </adapt>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.propertycardinality"
                     value="MANDATORY">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editpropertycardinality"
                  label="Optional"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Property">
                     </adapt>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.propertycardinality"
                     value="OPTIONAL">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editpropertycardinality"
                  label="One Or More"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Property">
                     </adapt>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.propertycardinality"
                     value="MANY_MANDATORY">
               </parameter>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.editpropertycardinality"
                  label="Many"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Property">
                     </adapt>
                  </iterate>
               </visibleWhen>
               <parameter
                     name="uk.org.whitecottage.palladium.commandparameter.propertycardinality"
                     value="MANY">
               </parameter>
            </command>
         </menu>
         <command
               commandId="uk.org.whitecottage.palladium.helper.type"
               label="Set Type..."
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <iterate>
                  <adapt
                        type="org.eclipse.uml2.uml.Property">
                  </adapt>
               </iterate>
            </visibleWhen>
         </command>
         <command
               commandId="uk.org.whitecottage.palladium.helper.command.isabstract"
               label="Is Abstract"
               style="toggle">
         </command>
         <menu
               label="&amp;Set As">
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.setreferencedata"
                  label="&lt;&lt;ReferenceData&gt;&gt;"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Class">
                     </adapt>
                  </iterate>
               </visibleWhen>
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.setdocumentation"
                  label="&lt;&lt;Documentation&gt;&gt;"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <iterate>
                     <adapt
                           type="org.eclipse.uml2.uml.Comment">
                     </adapt>
                  </iterate>
               </visibleWhen>
            </command>
         </menu>
         <command
               commandId="uk.org.whitecottage.palladium.helper.command.stereotypes"
               label="Apply Stereotypes..."
               mode="FORCE_TEXT"
               style="push">
         </command>
         <command
               commandId="uk.org.whitecottage.palladium.helper.command.comments"
               label="Edit Comments..."
               mode="FORCE_TEXT"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.papyrus.views.modelexplorer.modelexplorer.popup?after=diagramedit">
         <command
               commandId="uk.org.whitecottage.palladium.helper.command.isabstract"
               label="IsAbstract"
               style="toggle">
         </command>
         <menu
               label="&amp;Set As">
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.setreferencedata"
                  label="&lt;&lt;ReferenceData&gt;&gt;"
                  style="push">
            </command>
            <command
                  commandId="uk.org.whitecottage.palladium.helper.command.setdocumentation"
                  label="&lt;&lt;Documentation&gt;&gt;"
                  style="push">
            </command>
         </menu>
         <command
               commandId="uk.org.whitecottage.palladium.helper.command.stereotypes"
               label="Apply Stereotypes..."
               mode="FORCE_TEXT"
               style="push">
         </command>
         <command
               commandId="uk.org.whitecottage.palladium.helper.command.comments"
               label="Edit Comments..."
               mode="FORCE_TEXT"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="uk.org.whitecottage.palladium.helper.IsAbstractHandler"
            commandId="uk.org.whitecottage.palladium.helper.command.isabstract">
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="uk.org.whitecottage.palladium.helper.command.isabstract"
            name="Is Abstract">
         <state
               class="uk.org.whitecottage.palladium.helper.IsAbstractState"
               id="org.eclipse.ui.commands.toggleState">
         </state>
      </command>
   </extension> </plugin>
